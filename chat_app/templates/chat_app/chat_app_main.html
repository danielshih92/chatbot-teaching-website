<!-- 
  產生一個聊天機器人的按鈕，點擊按鈕後會出現聊天機器人的視窗
 -->
 {% load static %}
 <!-- HTML -->
 <style>
   .chatbot-container {
     position: fixed;  
     bottom: 10px;
     right: 10px;
     width: 350px;
     border: 1px solid #ccc;
     border-radius: 5px;
     box-shadow: 0 2px 10px rgba(0,0,0,.2);
     background-color: #fff;
     display: none;
   }
 
   .chatbot-header {
     background-color: #4e8cff;
     color: white;
     padding: 10px;
     border-top-left-radius: 5px;
     border-top-right-radius: 5px;
   }
 
   .chatbot-body {
     padding: 10px;
     max-height: 300px;
     overflow-y: auto;
   }
 
   .chatbot-input {
     display: flex;
     border-top: 1px solid #ccc;
     padding: 5px;
   }
 
   .chatbot-input input {
     flex-grow: 1;
     border: 1px solid #ccc;
     border-radius: 3px;
     padding: 5px;
     margin-right: 5px;
   }
 
   .chatbot-input button {
     background-color: transparent;
     border: none;
     padding: 5px 10px;
     border-radius: 3px;
     cursor: pointer;
   }
 
   .chatbot-input button:hover {
     transform: scale(1.2);
     transition: transform 0.5s;
   }
 
   .chatbot-toggle {
   position: fixed;
   bottom: 10px;
   right: 10px;
   background-color: transparent; /* Make button background transparent */
   border: none;
   padding: 5px; /* Adjust padding to reduce button size */
   border-radius: 50%;
   cursor: pointer;
   box-shadow: 0 2px 10px rgba(0,0,0,.2);
 }
 
 .chatbot-toggle img {
   display: block;
   max-width: 120px; /* Limit the image size to fit the button */
   max-height: 120px; /* Limit the image size to fit the button */
   position: fixed ;  /* 使元素固定在視窗中的某個位置 */
   right: 100px  ;     /* 將元素放置在距離視窗右邊 20 像素的位置 */
   bottom: 20px ;     /* 將元素放置在距離視窗底部 20 像素的位置 */
   width: 120px ;
   height: auto ;
 }
 
 .chatbot-toggle img:hover {
   transform: scale(1.2); /* Add transform property here */
   transition: transform 0.5s; /* Add transition property here */
 }
 
 .chatbot-close-btn {
   float: right;
   border: none;
   background: transparent;
   color: white;
   cursor: pointer;
   font-size: 20px;
 }
 </style>
 <body>
 
 <button class="chatbot-toggle" title = "你好，我是你的 AI 助理"><img src="{% static 'images/robot.svg' %}" /></button>
 
 <div class="chatbot-container">
   <div class="chatbot-header">
     <strong>ChatBot</strong>
     <button class="chatbot-close-btn">&times;</button> <!-- Close button -->
   </div>
   <div class="chatbot-body">
     <p>Hello! How can I help you?</p>
   </div>
   <div class="chatbot-input">
     <input type="text" id="chatbotInput" placeholder="Type your message here...">
     <button onclick="sendMessage()">Send</button>
   </div>
 </div>
 
 
 <script>
   const chatbotToggle = document.querySelector('.chatbot-toggle');
   const chatbotContainer = document.querySelector('.chatbot-container');
 
   chatbotToggle.addEventListener('click', function() {
     chatbotContainer.style.display = chatbotContainer.style.display === 'none' ? 'block' : 'none';
   });
 
   const chatbotCloseBtn = document.querySelector('.chatbot-close-btn');
 
   chatbotCloseBtn.addEventListener('click', function() {
     chatbotContainer.style.display = 'none';
 });
   function sendMessage() {
     const inputField = document.getElementById('chatbotInput');
     const userMessage = inputField.value.trim();
     const chatBody = document.querySelector('.chatbot-body');
 
     if (userMessage) {
       // Create user message element
       const userMessageDiv = document.createElement('div');
       userMessageDiv.textContent = 'You: ' + userMessage;
       chatBody.appendChild(userMessageDiv);
 
       // Clear the input field
       inputField.value = '';
 
       // Scroll to the bottom of the chat body
       chatBody.scrollTop = chatBody.scrollHeight;
 
       // Implement your own send message logic here
       // For now, we will just log it to the console
       console.log('Message sent:', userMessage);
     }
   }
 </script>
 
 </body>